import{_ as g,d as C,a as w,j as $,b as y,c as a,w as r,m as k,u as F,f as b,n as h,e as S,g as s,o as q,p as B,h as I}from"./app.bf2c33b3.js";const T=C({props:["id"],setup(e){const c={labelCol:{span:8},wrapperCol:{span:16}},n=F();B();const m={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},p=w(()=>n.state.post.post),_=o=>{n.commit("post/updatePostTitle",o.target.value)},u=o=>{n.commit("post/updatePostContent",o.target.value)};return $(async()=>{e.id&&await n.dispatch("post/detail",e.id)}),{formState:p,onFinish:o=>{e.id?n.dispatch("post/update",p.value).then(t=>{t.data.status=="ok"&&b.push("/posts")}).catch((t,i,d)=>{if(t.response.data.errors)for(var l in t.response.data.errors){h.error(t.response.data.errors[l]);break}}):n.dispatch("post/create",p.value).then(t=>{t.data.status=="ok"&&b.push("/posts")}).catch((t,i,d)=>{if(t.response.data.errors)for(var l in t.response.data.errors){h.error(t.response.data.errors[l]);break}})},layout:c,validateMessages:m,updateTitle:_,updateContent:u}}}),M=I("Create"),N=S("br",null,null,-1);function P(e,c,n,m,p,_){const u=s("a-page-header"),f=s("a-input"),o=s("a-form-item"),t=s("a-textarea"),i=s("a-button"),d=s("a-col"),l=s("a-row"),v=s("a-form");return q(),y("div",null,[a(u,{style:{border:"1px solid rgb(235, 237, 240)"},title:"Create","sub-title":"Create a post"}),a(v,k({model:e.formState},e.layout,{name:"nest-messages","validate-messages":e.validateMessages,onFinish:e.onFinish}),{default:r(()=>[a(l,{gutter:24},{default:r(()=>[a(d,{span:16,offset:1},{default:r(()=>[a(o,{name:"title",label:"title",rules:[{required:!0}]},{default:r(()=>[a(f,{value:e.formState.title,onInput:e.updateTitle},null,8,["value","onInput"])]),_:1}),a(o,{name:"content",label:"content",rules:[{required:!0}]},{default:r(()=>[a(t,{value:e.formState.content,onInput:e.updateContent},null,8,["value","onInput"])]),_:1}),a(o,{"wrapper-col":{...e.layout.wrapperCol,offset:8}},{default:r(()=>[a(i,{type:"primary","html-type":"submit"},{default:r(()=>[M]),_:1})]),_:1},8,["wrapper-col"])]),_:1})]),_:1})]),_:1},16,["model","validate-messages","onFinish"]),N])}var j=g(T,[["render",P]]);export{j as default};
